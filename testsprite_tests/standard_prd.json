{
  "meta": {
    "project": "Receitas FIT - PWA Gameficado",
    "date": "2025-11-19",
    "prepared_by": "Software Development Manager"
  },
  "product_overview": "Aplicativo PWA focado em receitas saudáveis e práticas para pessoas que buscam uma alimentação equilibrada. Oferece receitas com redução calórica, acompanhamento de evolução e gamificação para manter o engajamento.",
  "core_goals": [
    "Facilitar alimentação saudável fornecendo receitas práticas e saudáveis com baixo teor calórico",
    "Engajar usuários com sistema de gamificação incluindo pontos, badges e ranking",
    "Permitir acompanhamento por meio de calendário de receitas, check-ins fotográficos e evolução de peso",
    "Proporcionar praticidade com lista de compras automática gerada por IA",
    "Garantir segurança e usabilidade com autenticação via Supabase e onboarding detalhado"
  ],
  "key_features": [
    "Autenticação via email e senha com trial de 7 dias automático",
    "Onboarding em 3 etapas para coleta de dados pessoais, hábitos, objetivos e restrições com cálculos automáticos de métricas como IMC e TMB",
    "Calendário mensal scrollable com visualização e substituição de receitas programadas",
    "Receitas exibidas em grid com busca, filtros por categoria, sistema de favoritos, e detalhamento em slider com ingredientes, modo de preparo e passo a passo",
    "Home com receita do dia destacada, quick actions para acesso a receitas e lista de compras",
    "Gestão de lista de compras integrando ingredientes de múltiplas receitas com checkbox e agrupamentos (fase futura)",
    "Sistema de gamificação com pontos, badges, ranking e check-ins (fases futuras)",
    "Perfil do usuário com métricas de saúde, gráfico de evolução e gerenciamento de conta (fase futura)",
    "Progressive Web App com suporte offline, instalabilidade e cache via service worker (fase futura)"
  ],
  "user_flow_summary": [
    "Novo usuário faz cadastro com email e senha, ativa trial, passa por onboarding em 3 etapas e vê métricas calculadas antes de acessar Home",
    "Usuário retornando realiza login e acessa a Home com calendário e receita do dia",
    "Usuário navega na Home, visualiza receita do dia e acessa detalhes com slides de ingredientes, modo de preparo e passo a passo",
    "Usuário busca e filtra receitas por nome, descrição, tags ou categoria, podendo favoritar receitas",
    "Usuário planeja refeições utilizando o calendário mensal, selecionando receitas para dias específicos",
    "Usuário detalha receita, lê ingredientes e modo de preparo, e segue passo a passo para preparo",
    "Usuário navega pelo sistema usando barra inferior para acessar Home, Receitas, Lista de Compras e Perfil",
    "(Futuro) Usuário com trial expirado vê paywall e realiza assinatura via Stripe para continuar usando"
  ],
  "validation_criteria": [
    "Autenticação validada com email/senha e trial automático de 7 dias funcionando corretamente",
    "Onboarding recolhe dados completos e calcula IMC, TMB e outras métricas com precisão",
    "Calendário exibe corretamente receitas programadas, com comportamento scroll snap fluido e responsivo",
    "Receitas filtram e exibem resultados corretos por busca e categorias; favoritar e desfavoritar funcionam sem erro",
    "Detalhes da receita exibidos com todos os slides e navegação funcional entre ingredientes, preparo e passos",
    "Lista de compras (quando implementada) consolida ingredientes corretamente e permite marcação de itens",
    "Sistema de gamificação registra pontos, badges e ranking consistently (quando ativado)",
    "Perfil atualiza e exibe métricas e gráficos com dados do usuário (futuro)",
    "App PWA instalado corretamente, com cache e funcionalidade offline básicas comprovadas"
  ],
  "code_summary": {
    "tech_stack": [
      "TypeScript",
      "Next.js 15 (App Router)",
      "React 19",
      "Tailwind CSS",
      "PostgreSQL (Supabase)",
      "shadcn/ui",
      "date-fns",
      "Lucide Icons"
    ],
    "features": [
      {
        "name": "MiniCalendar - Scrollable Date Picker",
        "description": "Horizontal scrollable calendar wheel with smooth snap-to-center behavior. Shows 30 days with auto-centering on selected date. Features green highlight circle with shadow for selected day, smooth transitions (500ms), and responsive scroll detection.",
        "files": [
          "src/components/ui/mini-calendar.tsx"
        ]
      },
      {
        "name": "RecipeCard - Enhanced Card Component",
        "description": "Recipe card with floating effect on hover, elevated shadows, and centered images. Includes favorite toggle, category badge, prep time, calories info, and tags display. Features smooth transitions and hover lift effect.",
        "files": [
          "src/components/recipes/RecipeCard.tsx"
        ]
      },
      {
        "name": "AchievementCard - Progress Tracking",
        "description": "Compact achievement progress card showing user check-ins, progress bar, and milestone indicators. Includes future feature notice with lock icon.",
        "files": [
          "src/components/shared/AchievementCard.tsx"
        ]
      },
      {
        "name": "Home Page",
        "description": "Main dashboard showing achievement card, scrollable mini calendar, and recipe of the selected day. Fetches recipes by date range and user selections. Includes quick action buttons for recipes and shopping list.",
        "files": [
          "src/app/(app)/home/page.tsx"
        ]
      },
      {
        "name": "Recipe Hooks",
        "description": "Custom React hooks for fetching recipes by date range and user's selected recipes. Provides loading states and efficient data fetching.",
        "files": [
          "src/hooks/useRecipes.ts"
        ]
      },
      {
        "name": "Authentication",
        "description": "Supabase-based authentication with email/password, onboarding flow, and protected routes.",
        "files": [
          "src/app/(auth)/login/page.tsx",
          "src/app/(auth)/signup/page.tsx",
          "src/app/(auth)/onboarding/page.tsx"
        ]
      },
      {
        "name": "Recipe Management",
        "description": "Full recipe browsing, filtering, favoriting, and selection for specific dates. Includes recipe detail view with ingredients and instructions.",
        "files": [
          "src/app/(app)/recipes/page.tsx",
          "src/app/(app)/recipe/[id]/page.tsx"
        ]
      },
      {
        "name": "Shopping List",
        "description": "Ingredient aggregation from selected recipes with checkable items and quantity management.",
        "files": [
          "src/app/(app)/shopping-list/page.tsx"
        ]
      },
      {
        "name": "User Profile",
        "description": "User profile management with account settings and preferences.",
        "files": [
          "src/app/(app)/profile/page.tsx"
        ]
      },
      {
        "name": "Database Schema",
        "description": "PostgreSQL schema with recipes, user_recipes, ingredients, and favorites tables. Includes RLS policies for security.",
        "files": [
          "supabase/migrations/20250110000000_create_recipes_schema.sql",
          "supabase/migrations/20250110000001_seed_recipes.sql"
        ]
      }
    ]
  }
}
